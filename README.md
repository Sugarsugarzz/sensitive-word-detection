### 1. 版本历史	

| 修订日期   | 版本号 | 修订人 | 备注 |
| ---------- | ------ | ------ | ---- |
| 2020.10.19 | 1.0    | 唐     |      |

### 2. 参数说明

#### 请求方式

​	POST

#### 请求参数

| 名称    | 是否必选 | 类型   | 说明       |
| ------- | -------- | ------ | ---------- |
| content | 是       | String | 待检测文本 |

#### 响应消息

| 名称        | 类型               | 说明                                           |
| ----------- | ------------------ | ---------------------------------------------- |
| code        | Integer            | 状态码，200为调用成功，其他为异常              |
| msg         | String             | 状态消息                                       |
| data        | Object             | 调用成功时表示调用结果<br />调用失败时无此字段 |
| content     | String             | 待检测文本                                     |
| replace     | String             | 敏感词过滤后的文本                             |
| words       | List&lt;String&gt; | 检测到的敏感词列表                             |
| sensitivity | Double             | 敏感度                                         |

#### 示例

- 请求示例

  ```http
  POST http://localhost:8080/sensitive
      
  Content-Type:application/json
  Request Body:
  {
     "content": "打击台独分子，打击国民党；拥护毛泽东；台弯；中国共产党；习近平；xjp;藏独；脏读；新疆暴乱’64六四；台wan叶剑英taiwan'发轮功"
  }
  ```

- 成功响应示例

  ```json
  {
      "code": 200,
      "msg": "操作成功!",
      "data": {
          "content": "打击台独分子，打击国民党；拥护毛泽东；台弯；中国共产党；习近平；xjp;藏独；脏读；新疆暴乱’64六四；台wan叶剑英taiwan'发轮功",
          "replace": "打击**分子，打击***；拥护***；**；中国***；***；***;**；脏读；****’64**；*************'***",
          "words": [
              "台独",
              "国民党",
              "毛泽东",
              "台弯",
              "共产党",
              "习近平",
              "xjp",
              "藏独",
              "新疆暴乱",
              "六四",
              "台wan",
              "叶剑英",
              "taiwan",
              "发轮",
              "发轮功",
              "轮功"
          ],
          "sensitivity": 0.72
      }
  }
  ```
  
- 失败响应示例

  ```json
  {
      "code": 400,
      "msg": "操作失败!"
  }
  ```

### 3. 存在的问题

1. **是否将敏感词词典存入数据库，然后读取？**

   存。先本地建立一个库，将敏感词典清洗一波后，存进去。（完成）

2. **数据库已有的情感数据集中存在大量的非敏感词，需要做人工清洗。**

   洗。（完成）

3. **敏感度如何计算。**

   目前是只计算敏感词在有效文本（不包含符号）中的占比。

   再调研调研有什么计算方法。

   - [计算文档中词语权重][https://www.cnblogs.com/no-tears-girl/p/6952124.html]
   - 场景就是从文本中挑出几个词，计算一个值，没有用到其语义信息，缺少词对应的敏感度信息。
   - 目前想到未实施的方案
     - 根据敏感程度将词库中的敏感词划分类别，给类别标注不同层次的敏感值。
     - 根据检测到的敏感词触发的不同敏感程度，给定不同的敏感初始值，然后与敏感词在文本中的占比进行叠加。